<purchases-list-filters></purchases-list-filters>
<div ba-panel  ba-panel-title="Purchases" class="service-header col-lg-9 col-md-9 col-sm-12 col-xs-12">
    <table ng-hide="icoPurchases.length == 0 || loadingPurchases" class="table table-condensed table-striped table-hover">
        <tr class="black-muted-bg">
            <td><strong>User</strong></td>
            <td><strong>Phase</strong></td>
            <td><strong>Deposit tx</strong></td>
            <td><strong>Currency</strong></td>
            <td><strong>Status</strong></td>
            <td><strong>Created</strong></td>
        </tr>
        <tr ng-repeat="purchase in icoPurchases | orderBy: '-created'"
            ng-click="openPurchasesModal('app/pages/services/icoService/icos/viewIco/purchases/purchasesModal/purchasesModal.html', 'md',purchase)"
            class="editable-row center pointer">
            <td class="table-row-center transactions-list-element" title="{{purchase.quote.user}}"
                ng-bind="purchase.quote.user"></td>
            <td class="table-row-center transactions-list-element" title="{{purchase.phase}}"
                ng-bind="purchase.phase"></td>
            <td class="table-row-center transactions-list-element" title="{{purchase.deposit_tx}}"
                ng-bind="purchase.deposit_tx"></td>
            <td class="table-row-center transactions-list-element" title="{{purchase.quote.deposit_currency.code}}"
                ng-bind="purchase.quote.deposit_currency.code"></td>
            <td class="table-row-center transactions-list-element" title="{{purchase.status}}"
                ng-bind="purchase.status"></td>
            <td class="table-row-center transactions-list-element" title="{{purchase.created | date:'mediumDate'}} {{purchase.created | date:'shortTime'}}">
                {{purchase.created | date:'mediumDate'}} {{purchase.created | date:'shortTime'}}</td>
        </tr>
    </table>
    <div ng-hide="icoPurchases.length == 0 || loadingPurchases">
        <p uib-pagination boundary-links="true" items-per-page="pagination.itemsPerPage"  total-items="icoPurchasesData.count" ng-model="pagination.pageNo"
           max-size="pagination.maxSize" class="pagination-sm pull-right transaction-history-pagination" force-ellipses="true" ng-change="getIcoPurchases()"
           previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></p>
    </div>
    <div ng-show="icoPurchases.length == 0 && !loadingPurchases">
        <i>No purchases are available</i>
    </div>
    <div ng-show="loadingPurchases">
        <loading-image></loading-image>
    </div>
</div>
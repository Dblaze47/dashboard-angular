<user-accounts-list></user-accounts-list>
<div class="row">
    <div ng-hide="loadingUserAccounts || accounts.length < 0" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-repeat="account in accounts | orderBy: '-primary'">
        <div ng-hide="loadingUserAccounts" class="panel">
            <div class="panel-heading">
        <span class="user-details-panel-title">{{account.name}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span ng-show="account.primary" class="user-primary-account user-address-status">PRIMARY</span></span>
                <a ng-click="openAddAccountCurrenciesModal('app/pages/users/user/userAccountsOnly/addUserAccountOnlyCurrenciesModal/addUserAccountOnlyCurrenciesModal.html','md',account.reference,account.currencies)" class="user-details-panel-link pull-right pointer">Add currency</a>
            </div>
            <div class="panel-body">
                <table ng-show="account.currencies.length > 0" class="table">
                    <tr class="user-switches-table-header">
                        <th>Currency</th>
                        <th>Available balance</th>
                        <th>Balance</th>
                        <th></th>
                    </tr>
                    <tr  ng-repeat="acc in account.currencies">
                        <td width="15%" ng-bind="acc.currency.code"></td>
                        <td width="20%" title="{{acc.available_balance  | currencyModifiersFilter: acc.currency.divisibility}}">
                            {{acc.currency.symbol}} {{acc.available_balance  | currencyModifiersFilter: acc.currency.divisibility}}
                        </td>
                        <td width="30%" title="{{acc.balance  | currencyModifiersFilter: acc.currency.divisibility}}">
                            {{acc.currency.symbol}} {{acc.balance  | currencyModifiersFilter: acc.currency.divisibility}}
                        </td>
                        <td class="rehive-table-row-last-child" width="55%">
                            <a ng-click="goToSettings(acc.currency.code,account.reference)" class="pull-right pointer user-bank-edit">Settings</a>
                            <a ng-click="goToView('transactions.credit',acc.currency,account.user.email,account.reference)"
                               class="pull-right pointer user-bank-edit margin-right-30">Credit</a>
                            <a ng-click="goToView('transactions.debit',acc.currency,account.user.email,account.reference)"
                               class="pull-right pointer user-bank-edit margin-right-30">Debit</a>
                        </td>
                    </tr>
                </table>
                <div ng-if="account.currencies.length == 0" ng-hide="loadingUserAccounts">
                    <i style="margin-top: 10px">No currencies associated with this account yet.</i>
                </div>
            </div>
        </div>
    </div>
    <div ng-show="!loadingUserAccounts && accounts.length == 0" class="panel">
        <div class="panel-heading">
            <span class="user-details-panel-title">Accounts list</span>
            <a ng-click="openAddUserAccountOnlyModal('app/pages/users/user/userAccountsOnly/addUserAccountOnlyModal/addUserAccountOnlyModal.html','md')" class="user-details-panel-link pull-right pointer">Add account</a>
        </div>
        <div class="panel-body">
            <i>No accounts are available</i>
        </div>
    </div>
</div>
<div ba-panel ng-show="loadingUserAccounts">
    <loading-image></loading-image>
</div>


<div ng-hide="loadingAccountCurrencyFees || editingAccountCurrencyFees" class="setting-bank-accounts panel">
    <div class="panel-heading">
        <span class="user-details-panel-title">Account currency fees for {{userData.email}}</span>
    </div>
    <div class="panel-body">
        <table ng-show="accountCurrencyFeesList.length > 0" class="table fees-table setting-bank-accounts-table">
            <tr class="divider">
                <th class="rehive-table-row-first-child">Tx type</th>
                <th>Amount</th>
                <th>Percentage</th>
                <th>Subtype</th>
                <th></th>
            </tr>
            <tr ng-repeat="accountCurrencyFee in accountCurrencyFeesList">
                <td class="table-row-center transactions-list-element rehive-table-row-first-child" title="{{accountCurrencyFee.tx_type | capitalizeWord}}" ng-bind="accountCurrencyFee.tx_type | capitalizeWord | limitTo: '35'"></td>
                <td class="table-row-center transactions-list-element" title="{{accountCurrencyFee.value | currencyModifiersFilter: currencyObj.divisibility}}"
                    ng-bind="accountCurrencyFee.value | currencyModifiersFilter: currencyObj.divisibility"></td>
                <td class="table-row-center transactions-list-element" title="{{accountCurrencyFee.percentage}}" ng-bind="accountCurrencyFee.percentage ? accountCurrencyFee.percentage + '%' : 'None'"></td>
                <td class="table-row-center transactions-list-element" title="{{accountCurrencyFee.subtype ? accountCurrencyFee.subtype : 'None'}}" ng-bind="accountCurrencyFee.subtype ? accountCurrencyFee.subtype : 'None'| limitTo: '35'"></td>
                <td class="rehive-table-row-last-child">
                    <a ng-click="openAccountCurrencyFeesModal('app/pages/users/user/userDetails/userAccounts/accountSettings/accountCurrencyFees/accountCurrencyFeesModal/accountCurrencyFeesModal.html','md',accountCurrencyFee)"
                       class="pull-right pointer ">Delete</a>
                    <a ng-click="toggleAccountCurrencyFeeEditView(accountCurrencyFee)"
                       class="pull-right pointer user-address-edit margin-right-30">Edit</a>
                </td>
            </tr>
        </table>
        <div ng-show="accountCurrencyFeesList.length == 0">
            <i>No fees are available.</i>
        </div>
    </div>
</div>
<div ng-hide="loadingAccountCurrencyFees || editingAccountCurrencyFees" class="panel">
    <div class="panel-heading">
        <span class="user-details-panel-title">Add account currency fee</span>
    </div>
    <div class="panel-body">
        <form name="accountCurrencyFeeForm" class="custom-form">
            <div class="form-group">
                <label>Transaction type <span class="required-icon">*</span></label>
                <br>
                <select class="form-control pointer" ng-change="getSubtypesArray(accountCurrencyFeesParams)" ng-model="accountCurrencyFeesParams.tx_type" ng-options="option for option in txTypeOptions" required>
                </select>
            </div>
            <div class="form-group">
                <label>Amount</label>
                <input type="text" class="form-control" ng-model="accountCurrencyFeesParams.value" placeholder="Enter value"/>
            </div>
            <div class="form-group">
                <label>Percentage</label>
                <br>
                <input type="text" class="form-control" ng-model="accountCurrencyFeesParams.percentage" placeholder="Enter percentage" />
            </div>
            <div ng-hide="loadingSubtypes" class="form-group">
                <label>Subtype</label>
                <select class="form-control pointer" ng-model="accountCurrencyFeesParams.subtype"
                        ng-options="subtypeOption for subtypeOption in subtypeOptions">
                </select>
            </div>
            <div ng-show="loadingSubtypes">
                <loading-image class="custom-subtype-loading"></loading-image>
            </div>
            <div class="form-group">
                <button ng-click="addAccountCurrencyFee(accountCurrencyFeesParams)" ng-disabled="!accountCurrencyFeeForm.$valid" class="btn btn-primary dashboard-btn pull-right">Add</button>
            </div>
        </form>
    </div>
</div>
<div ng-show="editingAccountCurrencyFees">
    <edit-account-currency-fee></edit-account-currency-fee>
</div>
<div ba-panel ng-show="loadingAccountCurrencyFees">
    <loading-image></loading-image>
</div>
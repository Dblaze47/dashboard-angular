<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" ng-click="$dismiss()" aria-label="Close">
            <em class="ion-ios-close-empty sn-link-close"></em>
        </button>
        <h4 class="modal-title" id="myModalLabel">Transaction details</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>User: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <a class="pointer" ng-click="goToUser()" ng-bind="transaction.user.email || transaction.user.mobile_number"></a>
                <i ng-hide="editingTransaction" ng-click="toggleEditingTransaction()" class="fa fa-pencil-square-o transaction-edit-btn pull-right pointer" aria-hidden="true"></i>
                <i ng-show="editingTransaction" ng-click="editTransaction()" class="fa fa-floppy-o transaction-edit-btn pull-right pointer" aria-hidden="true"></i>
                <i ng-show="editingTransaction" ng-click="toggleEditingTransaction()" class="fa fa-arrow-circle-o-left transaction-edit-btn pull-right pointer margin-right-10" aria-hidden="true"></i>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Type: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.tx_type | capitalizeWord"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Status: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.status | capitalizeWord">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Currency: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.currency.code"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Account: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.account"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Amount: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.amount  | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Fee: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.fee | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Subtype: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.subtype"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Code: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.id"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Balance: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p ng-bind="transaction.balance | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Reference: </strong></p>
            </div>
            <div ng-show="transaction.reference" class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <pre ng-bind="transaction.reference"></pre>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Note: </strong></p>
            </div>
            <div ng-show="transaction.note" class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <pre ng-bind="transaction.note"></pre>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Metadata: </strong></p>
            </div>
            <div class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <div ng-show="formatted.metadata">
                    <pre ng-hide="editingTransaction">{{formatted.metadata}}</pre>
                </div>
                <textarea ng-show="editingTransaction" rows="4" type="text" ng-model="updateTransactionObj.metadata" class="form-control"  placeholder='e.g. {"Hello" : "World"}'></textarea>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p><strong>Date: </strong></p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                <p>{{transaction.created | date:'mediumDate'}} {{transaction.created | date:'shortTime'}}</p>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" ng-hide="transaction.status == 'failed'" ng-disabled="updatingTransaction" class="transaction-details-button btn btn-danger pull-left" ng-click="updateTransactionConfirm('failed')">Cancel Transaction</button>
        <button type="button" ng-show="transaction.status == 'pending' || transaction.status == 'initiating'" ng-disabled="updatingTransaction" class="transaction-details-button btn btn-primary pull-right" ng-click="updateTransactionConfirm('complete')">Complete Transaction</button>
    </div>
</div>

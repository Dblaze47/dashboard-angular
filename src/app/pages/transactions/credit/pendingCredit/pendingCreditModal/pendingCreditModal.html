<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" ng-click="$dismiss()" aria-label="Close">
            <em class="ion-ios-close-empty sn-link-close"></em>
        </button>
        <h4 class="modal-title" id="myModalLabel">Transaction details</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Code:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <span ng-bind="transaction.id"></span>
                <i ng-hide="editingTransaction" ng-click="toggleEditingTransaction()" class="fa fa-pencil-square-o transaction-edit-btn pull-right pointer" aria-hidden="true"></i>
                <i ng-show="editingTransaction" ng-click="editTransaction()" class="fa fa-floppy-o transaction-edit-btn pull-right pointer" aria-hidden="true"></i>
                <i ng-show="editingTransaction" ng-click="toggleEditingTransaction()" class="fa fa-arrow-circle-o-left transaction-edit-btn pull-right pointer margin-right-10" aria-hidden="true"></i>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">User:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <a class="pointer" ng-click="goToUser()" ng-bind="transaction.user.email || transaction.user.mobile_number"></a>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Balance:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.balance | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Type:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.tx_type | capitalizeWord"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Currency:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.currency.code"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Amount:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.amount  | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Fee:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.fee | currencyModifiersFilter: transaction.currency.divisibility"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Subtype:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.subtype"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Account:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.account"></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Status:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p ng-bind="transaction.status">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Reference:</p>
            </div>
            <div ng-show="transaction.reference" class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <pre ng-bind="transaction.reference"></pre>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Note:</p>
            </div>
            <div ng-show="transaction.note" class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <pre ng-bind="transaction.note"></pre>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Metadata:</p>
            </div>
            <div class="metadata col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <div ng-show="formatted.metadata">
                    <pre ng-hide="editingTransaction">{{formatted.metadata}}</pre>
                </div>
                <textarea ng-show="editingTransaction" rows="4" type="text" ng-model="updateTransactionObj.metadata" class="form-control"  placeholder='e.g. {"Hello" : "World"}'></textarea>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 no-left-padding divider">
                <p class="text-subtle">Date:</p>
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 no-right-padding">
                <p>{{transaction.created | date:'mediumDate'}} {{transaction.created | date:'shortTime'}}</p>
            </div>
        </div>
    </div>
    <div class="modal-footer row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 no-left-padding">
            <button type="button" ng-hide="transaction.status == 'Failed'" ng-disabled="updatingTransaction" class="transaction-details-button btn btn-danger pull-left" ng-click="updateTransaction('Failed')">Cancel Credit</button>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 no-right-padding">
            <button type="button" ng-show="transaction.status == 'Pending' || transaction.status == 'Initiating'" ng-disabled="updatingTransaction" class="transaction-details-button btn btn-primary pull-right" ng-click="updateTransaction('Complete')">Complete Credit</button>
        </div>
    </div>
</div>
